{"version":3,"sources":["webpack:///./src/templates/tags.js"],"names":["library","add","fas","far","fab","Tags","location","pageContext","data","tag","allMarkdownRemark","edges","totalCount","tags","allPost","group","H3","styled","h3","console","log","title","description","className","icon","faTags","map","node","slug","fields","frontmatter","key","to","kebabCase","fieldValue","pageQuery"],"mappings":"4FAAA,2MAYAA,IAAQC,IAAIC,IAAKC,IAAKC,KA6EPC,UA3EF,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,SAAUC,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,KAC7BC,EAAQF,EAARE,IADwC,EAElBD,EAAKE,kBAA3BC,EAFwC,EAExCA,MAAOC,EAFiC,EAEjCA,WACTC,EAAOL,EAAKM,QAAQC,MACpBC,EAAKC,IAAOC,GAAV,2DAAGD,CAAH,4CAKR,OADAE,QAAQC,IAAIR,GAEV,kBAAC,IAAD,CAAQN,SAAUA,EAAUe,MAAOZ,GACjC,kBAAC,IAAD,CAAKY,MAAK,GAAKZ,EAAOa,YAAgBb,EAAL,iBACjC,yBAAKc,UAAU,sEACb,kBAACP,EAAD,CAAIO,UAAU,sCACZ,kBAAC,IAAD,CAAiBC,KAAMtB,IAAIuB,SAD7B,IACyChB,GAEzC,wBAAIc,UAAU,aACXZ,EAAMe,KAAI,YAAe,IAAZC,EAAW,EAAXA,KACJC,EAASD,EAAKE,OAAdD,KACAP,EAAUM,EAAKG,YAAfT,MACR,OACE,wBAAIU,IAAKH,EAAML,UAAU,sBACvB,kBAAC,OAAD,CAAMS,GAAIJ,EAAML,UAAU,wBACvBF,QAMX,yBAAKE,UAAU,yCACb,kBAAC,IAAD,CAAiBC,KAAMtB,IAAIuB,SAD7B,OAGA,yBAAKF,UAAU,QACZV,GACCA,EAAKa,KAAI,SAACjB,GACR,OACE,kBAAC,OAAD,CACEuB,GAAE,SAAWC,IAAUxB,EAAIyB,YAAzB,IACFX,UAAU,uEAEVQ,IAAKtB,EAAIyB,YAERzB,EAAIyB,mBAmChB,IAAMC,EAAS","file":"component---src-templates-tags-js-b2a42cd88cc4a8f80d77.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Layout from \"../components/layout\";\nimport SEO from \"../components/seo\";\nimport styled from \"styled-components\";\nimport { Link, graphql } from \"gatsby\";\nimport kebabCase from \"lodash/kebabCase\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { fab } from \"@fortawesome/free-brands-svg-icons\";\nimport { far } from \"@fortawesome/free-regular-svg-icons\";\nlibrary.add(fas, far, fab);\n\nconst Tags = ({ location, pageContext, data }) => {\n  const { tag } = pageContext;\n  const { edges, totalCount } = data.allMarkdownRemark;\n  const tags = data.allPost.group;\n  const H3 = styled.h3`\n    font-family: var(--bs-font-sans-serif);\n  `;\n\n  console.log(totalCount);\n  return (\n    <Layout location={location} title={tag}>\n      <SEO title={`${tag}`} description={`${tag}のタグがつけられたページ`} />\n      <div className=\"flex-wrap container px-0 pb-4 mx-md-4 pr-md-5 px-3 px-sm-5 px-md-0\">\n        <H3 className=\"mx-4 mx-md-0 text-center my-3 pt-4\">\n          <FontAwesomeIcon icon={fas.faTags} /> {tag}\n        </H3>\n        <ul className=\"ml-0 pl-0\">\n          {edges.map(({ node }) => {\n            const { slug } = node.fields;\n            const { title } = node.frontmatter;\n            return (\n              <li key={slug} className=\"list-unstyled mb-0\">\n                <Link to={slug} className=\"text-decoration-none\">\n                  {title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n        <div className=\"h3 mx-4 mx-md-0 text-center my-3 pt-4\">\n          <FontAwesomeIcon icon={fas.faTags} /> タグ\n        </div>\n        <div className=\"my-2\">\n          {tags &&\n            tags.map((tag) => {\n              return (\n                <Link\n                  to={`/tags/${kebabCase(tag.fieldValue)}/`}\n                  className=\"m-1 text-decoration-none\n                            text-dark bg-light rounded px-1 text-nowrap\"\n                  key={tag.fieldValue}\n                >\n                  {tag.fieldValue}\n                </Link>\n              );\n            })}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nTags.propTypes = {\n  pageContext: PropTypes.shape({\n    tag: PropTypes.string.isRequired,\n  }),\n  data: PropTypes.shape({\n    allMarkdownRemark: PropTypes.shape({\n      totalCount: PropTypes.number.isRequired,\n      edges: PropTypes.arrayOf(\n        PropTypes.shape({\n          node: PropTypes.shape({\n            frontmatter: PropTypes.shape({\n              title: PropTypes.string.isRequired,\n            }),\n            fields: PropTypes.shape({\n              slug: PropTypes.string.isRequired,\n            }),\n          }),\n        }).isRequired\n      ),\n    }),\n  }),\n};\n\nexport default Tags;\n\nexport const pageQuery = graphql`\n  query($tag: String) {\n    allMarkdownRemark(\n      limit: 2000\n      sort: { fields: [frontmatter___date], order: DESC }\n      filter: { frontmatter: { tags: { in: [$tag] } } }\n    ) {\n      group(field: frontmatter___tags) {\n        fieldValue\n        totalCount\n      }\n      totalCount\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            tags\n          }\n        }\n      }\n    }\n    allPost: allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n    ) {\n      group(field: frontmatter___tags) {\n        fieldValue\n        totalCount\n      }\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"YYYY年MM月DD日\")\n            title\n            description\n            tags\n          }\n        }\n      }\n    }\n  }\n`;\n\n// allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n//     group(field: frontmatter___tags) {\n//         fieldValue\n//         totalCount\n//     }\n//     edges {\n//       node {\n//         excerpt\n//         fields {\n//           slug\n//         }\n//         frontmatter {\n//           date(formatString: \"YYYY年MM月DD日\")\n//           title\n//           description\n//           tags\n//         }\n//       }\n//     }\n//   }\n"],"sourceRoot":""}