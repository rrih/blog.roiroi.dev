{"pageProps":{"post":{"title":"独自ドメイン取得してサブドメインを設定","date":"2021-03-02T08:47:07.322+09:00","slug":"create-own-domain","author":{"name":"ろい","picture":"https://pbs.twimg.com/profile_images/1360265464488710150/9tFz-ycm_400x400.jpg"},"content":"<p><a href=\"/posts/hello-world\">先日独自ドメインを取得すると宣言した</a>通り、てきとうなドメインを取って真面目にサイトを運用していこうという感じになりました。当サイトではblog.roiroi.devをサブドメインとして切り出してます。なおドメインのセンスは皆無でした。申し訳…</p>\n<p>大昔(3年以上前)に独自ドメイン(今は消滅済み)を取ってはてなブログをやってた時代がありましたが、今回はドメインはお名前.comではなくGoogle Domainsで取得したりはてなブログProではなくNext.js+GitHub Pagesでやってたり差分は色々あります。</p>\n<p>また、GitHub Pagesのcustom domainの設定画面のﾎﾞﾀﾝﾎﾟﾁｰでCNAMEを作成できますが、僕の場合.github/workflows/deploy.ymlの<a href=\"https://github.com/rrih/blog.roiroi.dev/blob/master/.github/workflows/deploy.yml#L32\">ここで</a>gh-pagesに生成物を配置するために<code>CNAME</code>をpublic配下に置いておく必要があります。これでpushする度にgh-pagesブランチの中身が刷新されることによりCNAMEが外れて404返される自体にならずに済みます。Next知ってれば当たり前体操な話でしたね…</p>\n<p>あとは暇な時にGoogle AnalyticsやGoogle Adsenseの設定やります…</p>\n","ogImage":{"url":"https://pbs.twimg.com/profile_banners/636879657/1606257712/1500x500"},"coverImage":"https://pbs.twimg.com/profile_banners/636879657/1606257712/1500x500"}},"__N_SSG":true}