{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/20201117-heroku-cleardb-revive/","result":{"data":{"site":{"siteMetadata":{"title":"rrih"}},"markdownRemark":{"id":"ed7a5487-69a4-5f51-88b7-293aad807477","excerpt":"前回これの本番が落ちていた時、こんなことを言ってましたが、今見たら完全に復活してました。 全然わからないですね 🤔 調べてみたところ、ClearDB の無料分を超えたから死んだと思ってたのだけれど復活するとなるとそうでもなさそう？そもそも 5M…","html":"<p>前回<a href=\"https://github.com/rrih/feel\">これ</a>の<a href=\"htps://feel-prod.herokuapp.com\">本番</a>が落ちていた時、<a href=\"/heroku-cleardb-dead/\">こんなこと</a>を言ってましたが、今見たら完全に復活してました。</p>\n<p>全然わからないですね 🤔</p>\n<p>調べてみたところ、ClearDB の無料分を超えたから死んだと思ってたのだけれど復活するとなるとそうでもなさそう？そもそも 5M もいってなさそう。</p>\n<p>ということで測ってみました。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">mysql<span class=\"token operator\">></span> SELECT\n    -<span class=\"token operator\">></span>     table_schema, sum<span class=\"token punctuation\">(</span>data_length+index_length<span class=\"token punctuation\">)</span> /1024 /1024 AS MB\n    -<span class=\"token operator\">></span> FROM\n    -<span class=\"token operator\">></span>     information_schema.tables\n    -<span class=\"token operator\">></span> GROUP BY\n    -<span class=\"token operator\">></span>     table_schema\n    -<span class=\"token operator\">></span> ORDER BY\n    -<span class=\"token operator\">></span>     sum<span class=\"token punctuation\">(</span>data_length+index_length<span class=\"token punctuation\">)</span> DESC<span class=\"token punctuation\">;</span>\n+------------------------+------------+\n<span class=\"token operator\">|</span> table_schema           <span class=\"token operator\">|</span> MB         <span class=\"token operator\">|</span>\n+------------------------+------------+\n<span class=\"token operator\">|</span> heroku_3012b33fc1d1892 <span class=\"token operator\">|</span> <span class=\"token number\">0.10937500</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> information_schema     <span class=\"token operator\">|</span> <span class=\"token number\">0.00878906</span> <span class=\"token operator\">|</span>\n+------------------------+------------+</code></pre></div>\n<p>はい、まだ耐えてますね。</p>","frontmatter":{"title":"昨日落ちてたやつが復活してた件","date":"2020年11月17日","description":"","tags":["mysql","雑記","heroku","cleardb","problem"]}}},"pageContext":{"slug":"/20201117-heroku-cleardb-revive/","previous":{"fields":{"slug":"/20201116-fontawesome-sad/"},"frontmatter":{"title":"fontawesomeにはTypeScript等一部アイコンが不足している","tags":["fontawesome","雑記"]}},"next":{"fields":{"slug":"/20201118-research-tired/"},"frontmatter":{"title":"研究は疲れた","tags":["雑記"]}}}}}